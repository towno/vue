(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3584d91c"],{"1dde":function(t,e,c){var n=c("d039"),a=c("b622"),o=c("2d00"),r=a("species");t.exports=function(t){return o>=51||!n((function(){var e=[],c=e.constructor={};return c[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"52f7":function(t,e,c){"use strict";c("a04b")},"65f0":function(t,e,c){var n=c("861d"),a=c("e8b5"),o=c("b622"),r=o("species");t.exports=function(t,e){var c;return a(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!a(c.prototype)?n(c)&&(c=c[r],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},8418:function(t,e,c){"use strict";var n=c("c04e"),a=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var r=n(e);r in t?a.f(t,r,o(0,c)):t[r]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),a=c("d039"),o=c("e8b5"),r=c("861d"),s=c("7b0b"),l=c("50c4"),i=c("8418"),u=c("65f0"),d=c("1dde"),b=c("b622"),g=c("2d00"),j=b("isConcatSpreadable"),O=9007199254740991,f="Maximum allowed index exceeded",p=g>=51||!a((function(){var t=[];return t[j]=!1,t.concat()[0]!==t})),h=d("concat"),v=function(t){if(!r(t))return!1;var e=t[j];return void 0!==e?!!e:o(t)},y=!p||!h;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,n,a,o,r=s(this),d=u(r,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?r:arguments[e],v(o)){if(a=l(o.length),b+a>O)throw TypeError(f);for(c=0;c<a;c++,b++)c in o&&i(d,b,o[c])}else{if(b>=O)throw TypeError(f);i(d,b++,o)}return d.length=b,d}})},"99f7":function(t,e,c){"use strict";c("eb8a")},a04b:function(t,e,c){},e6dc:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a={class:"Products"},o={class:"container"},r={class:"mt-4"},s={class:"table align-middle"},l=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th",null,"圖片"),Object(n["g"])("th",null,"商品名稱"),Object(n["g"])("th",null,"價格"),Object(n["g"])("th",null,"功能")])],-1),i={class:"w-25 imageColumn"},u={class:"w-25"},d={class:"w-25"},b={class:"h5"},g=Object(n["g"])("span",{class:"h6"},"原價",-1),j={class:"h6"},O={class:"h5"},f={class:"btn-group btn-group-sm"},p={key:0,class:"fas fa-spinner fa-pulse"},h=Object(n["f"])("查看更多 "),v={key:0,class:"fas fa-spinner fa-pulse"},y=Object(n["f"])("加到購物車 "),m={class:"text-end"},C={class:"table align-middle"},k=Object(n["g"])("thead",null,[Object(n["g"])("tr",null,[Object(n["g"])("th"),Object(n["g"])("th",null,"品名"),Object(n["g"])("th",null,"數量/單位"),Object(n["g"])("th",null,"單價")])],-1),x={key:0,class:"fas fa-spinner fa-pulse"},w=Object(n["f"])("x "),I={class:"input-group input-group-sm"},A=Object(n["g"])("td",{colspan:"3",class:"text-end"},"總計",-1),S={class:"text-end"},P={key:0},$=Object(n["g"])("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),_={class:"text-end text-success"};function T(t,e,c,T,q,M){var N=Object(n["w"])("UserProductModal");return Object(n["p"])(),Object(n["d"])("div",a,[Object(n["g"])("div",o,[Object(n["g"])("div",r,[Object(n["g"])("table",s,[l,Object(n["g"])("tbody",null,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(q.products,(function(e){return Object(n["p"])(),Object(n["d"])("tr",{key:e.id},[Object(n["g"])("td",i,[Object(n["g"])("div",{class:"productImage",style:{backgroundImage:"url(".concat(e.imageUrl,")")}},null,4)]),Object(n["g"])("td",u,Object(n["y"])(e.title),1),Object(n["g"])("td",d,[Object(n["g"])("div",b,[g,Object(n["g"])("del",j,"NT$"+Object(n["y"])(e.origin_price),1)]),Object(n["g"])("div",O,"現在只要 NT$"+Object(n["y"])(e.price),1)]),Object(n["g"])("td",null,[Object(n["g"])("div",f,[Object(n["g"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(c){return t.getProduct(e.id)}},[q.loadingStatus.loadingItem===e.id?(Object(n["p"])(),Object(n["d"])("i",p)):Object(n["e"])("",!0),h],8,["onClick"]),Object(n["g"])("button",{type:"button",onClick:function(t){return M.addCarts(e.id)},class:"btn btn-outline-danger"},[q.loadingStatus.loadingItem===e.id?(Object(n["p"])(),Object(n["d"])("i",v)):Object(n["e"])("",!0),y],8,["onClick"])])])])})),128))])]),Object(n["g"])("div",m,[Object(n["g"])("button",{class:"btn btn-outline-danger",onClick:e[1]||(e[1]=function(){return M.deleteAllCarts&&M.deleteAllCarts.apply(M,arguments)})},"清空購物車")]),Object(n["g"])("table",C,[k,Object(n["g"])("tbody",null,[q.cart.carts?(Object(n["p"])(!0),Object(n["d"])(n["a"],{key:0},Object(n["v"])(q.cart.carts,(function(t){return Object(n["p"])(),Object(n["d"])("tr",{key:t.id},[Object(n["g"])("td",null,[Object(n["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return M.removeCartItem(t.id)},disabled:q.loadingStatus.loadingItem===t.id},[q.loadingStatus.loadingItem===t.id?(Object(n["p"])(),Object(n["d"])("i",x)):Object(n["e"])("",!0),w],8,["onClick","disabled"])]),Object(n["g"])("td",null,[Object(n["g"])("div",I,Object(n["y"])(t.product.title),1)]),Object(n["g"])("td",null,Object(n["y"])(t.qty)+"/"+Object(n["y"])(t.product.unit),1),Object(n["g"])("td",null,"NT$"+Object(n["y"])(t.product.price),1)])})),128)):Object(n["e"])("",!0)]),Object(n["g"])("tfoot",null,[Object(n["g"])("tr",null,[A,Object(n["g"])("td",S,Object(n["y"])(q.cart.total),1)]),q.cart.final_total!==q.cart.total?(Object(n["p"])(),Object(n["d"])("tr",P,[$,Object(n["g"])("td",_,Object(n["y"])(q.cart.final_total),1)])):Object(n["e"])("",!0)])])])]),Object(n["g"])(N)])}c("99af");var q=Object(n["C"])("data-v-75665f48");Object(n["s"])("data-v-75665f48");var M={class:"hello"};Object(n["q"])();var N=q((function(t,e,c,a,o,r){return Object(n["p"])(),Object(n["d"])("div",M,[Object(n["g"])("h1",null,Object(n["y"])(c.msg),1)])})),U={props:{msg:String}};c("99f7");U.render=N,U.__scopeId="data-v-75665f48";var E=U,J={name:"Products",data:function(){return{loadingStatus:{loadingItem:""},products:[],cart:{carts:[]},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("taonong","/products");this.$http.get(e).then((function(e){e.data.success&&(t.products=e.data.products)}))},addCarts:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("taonong","/cart");this.loadingStatus.loadingItem=t;var a={product_id:t,qty:c};this.$http.post(n,{data:a}).then((function(t){e.loadingStatus.loadingItem=null,e.getCarts()}))},getCarts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("taonong","/cart");this.$http.get(e).then((function(e){t.cart=e.data.data}))},removeCartItem:function(t){},deleteAllCarts:function(){}},mounted:function(){this.getProducts(),this.getCarts()},components:{UserProductModal:E}};c("52f7");J.render=T;e["default"]=J},e8b5:function(t,e,c){var n=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},eb8a:function(t,e,c){}}]);
//# sourceMappingURL=chunk-3584d91c.8cdd1ab6.js.map